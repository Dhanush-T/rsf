{% load static %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/events.css' %}">
{% endblock extra_css %}
{% block content %}
    {% if self.events.all|length %}
    <div class="events containTitle">
        <div>
            <div class="headings">
                <div class="title">Events</div>
            </div>
        </div>
        <div class="sliderContainer">
            <div id="eventsCarousel" class="carousel carousel-dark slide"  data-bs-ride="false" data-bs-touch="true">
                <div class="carousel-inner">
                    {% for event in self.events.all %}
                        {% if forloop.counter0|divisibleby:"4" %}
                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                            <!-- <div class="card-deck"> -->
                            <div class="card-group row justify-content-between">
                        {% endif %}
                                <div class="col-md-6 col-sm-12 box">
                                    <a href="{{ event.url }}" class="box">
                                        <div class="cardBody ">
                                            <div class="cardDates">
                                                <div class="month">{{event.date_time|date:'M'}}</div>
                                                <div class="dateNumber">{{event.date_time|date:'d'}}</div>
                                            </div>
                                            <div class="cardDetails">
                                                <div class="title">{{event.title}}</div>
                                                <div class="venue">{{event.venue}}</div>
                                                <div class="dateTime">
                                                    <span>
                                                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M8.63 16.26C12.8439 16.26 16.26 12.8439 16.26 8.63C16.26 4.41607 12.8439 1 8.63 1C4.41607 1 1 4.41607 1 8.63C1 12.8439 4.41607 16.26 8.63 16.26Z" stroke="#B1932E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                            <path d="M8.63 4.052V8.62985L11.682 10.1558" stroke="#B1932E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                        </svg>
                                                    </span>
                                                    {{event.date_time|date:'D\, N d'}}, at {{event.date_time|time:"h:i A"}}
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                        {% if forloop.counter|divisibleby:"4" %}
                            </div>
                        </div>
                        {%else %}
                        {% if forloop.last %}
                            {% for i in eventsPageCountRem %}
                                <div class="col-md-6 col-sm-12 box" style="visibility:hidden">
                                        <a href="{{ event.url }}" class="box">
                                            <div class="cardBody ">
                                                <div class="cardDates">
                                                    <div class="month">{{event.date_time|date:'M'}}</div>
                                                    <div class="dateNumber">{{event.date_time|date:'d'}}</div>
                                                </div>
                                                <div class="cardDetails">
                                                    <div class="title">{{event.title}}</div>
                                                    <div class="venue">{{event.venue}}</div>
                                                    <div class="dateTime">
                                                        <span>
                                                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <path d="M8.63 16.26C12.8439 16.26 16.26 12.8439 16.26 8.63C16.26 4.41607 12.8439 1 8.63 1C4.41607 1 1 4.41607 1 8.63C1 12.8439 4.41607 16.26 8.63 16.26Z" stroke="#B1932E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                                <path d="M8.63 4.052V8.62985L11.682 10.1558" stroke="#B1932E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                            </svg>
                                                        </span>
                                                        {{event.date_time|date:'D\, N d'}}, at {{event.date_time|time:"h:i A"}}
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                            {% endfor%}
                            </div>
                        </div>
                        {% endif %}
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="carousel-indicators">
                    {% for count in eventsPageCount %}
                        <button type="button" data-bs-target="#eventsCarousel" data-bs-slide-to="{{forloop.counter0}}" {% if forloop.first %} class="active" aria-current="true" {% endif %} aria-label="Slide {{forloop.counter}}"></button>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    {% endif %}
{% endblock content %}
